- ==Certificate Authorities==
	- Solved the problem of distributing encryption keys when you want to communicate securely with others or authenticate a message that you send to others.
		- When you want others to send confidential messages. you give them a public key to use to encrypt the message.
		- When you want to authenticate yourself you sign a hash of your message with your private key.
	- The basic problem:
		- There is no mechanism for establishing the owner's identity.
			- Shown in e-commerce
		- How can you be sure a shopping or banking service is really maintained by whom it claims
	- *Public Key Infrastructure* aims to prove that the owners of public keys are who they say they are.
		- Anyone issuing a public key should publish it in a digital certificate
		- Certificate is guaranteed by a *certificate authority (CA)*
	- PKI can use private or third party CA's
	- Private CA can be set up within an organization for internal communications
		- only be trusted within an organization
	- Functions of a third party CA
		- Provide a range of certificate services useful to the community of users
		- Ensure the validity of certificates and the identity of those applying for them
		- Establish trust in the CA with users, governments, regulatory authorities, and enterprises
		- Manage the servers that store and administer the certificates
		- Perform key and certificate lifecycle management
- ==Digital Certificates==
	- Essentially a wrapper for a subjects public key
	- Contains information about the subject and certificates issuer
	- Signed to prove that it was issued to the subject by a particular CA
		- Could be a human or a server
- ==Root of Trust==
	- Defines how users and different CAs can trust one another.
	- Each CA issues itself a certificate
		- Called the *root certificate*
			- Self signed
			- Uses RSA 2048 or 2096
			- Can be used to sign other certificates issued by the CA
	- **Single CA**
		- A single root CA issues certificates directly to users and computers
		- Often used on private networks
		- Problem:
			- Single CA server is exposed, if compromised the whole PKI collapses
	- **Third Party CA's**
		- Operate a hierarchical model
		- In hierarchical model:
			- the root CA issues certificates to one or more intermediate CAs
			- Intermediate CAs issue certificates to subjects
		- Has the advantage that different intermediate CAs can be set up with certificate policies, which enables users to perceive clearly what a particular certificate is for.
		- Each leaf certificate can be traced to the root CA
			- Also called *certificate chaining* or *chain of trust*
- ==Self-signed Certificates==
	- Any machine, web server or program code can be deployed with a *self signed certificate*
	- Self-signed certificates can also be useful in development test environments
	- OS or web browser will mark self-signed certificates as untrusted
		- Users can override this
	- Difficult to validate
	- Not used to protect critical hosts and applications
- ==Certificate Signing Requests==
	- Registration is the process by which end users create an account with the CA and become authorized to request certificates.
	- In the CA's interest to ensure that it only issues certificates to legitimate users
	- When a someone wants to obtain a certificate
		- Generates a key pair
			- public and private
		- Private key must be kept well protected and known only to the person asking for the certificate
		- Complete a *Certificate Signing Request* (CSR) and submits to CA
			- CSR contains the information the person wants to use in the certificate
		- CA reviews certificate and checks that the information is valid.
- ==Subject Name Attributes==
	- *Common Name* (CN) attribute was used to identify the fully qualified domain name which the server is accessed by.
		- Can contain different kinds of information
			- makes it difficult for a browser to interpret it correctly
		- Now deprecated
	- *Subject Alternative Name* (SAN) field is structured to represent different types of identifiers.
		- includes DFQDN and IP addresses
		- Also allows a certificate to represent different subdomains
		- *Wildcard domain* means that the certificate issued to the parent domain will be accepted as valid for all subdomains
			- not safe because you can register a domain under something and bimbimbambam you have the robux issue
- ==Certificate Revocation== 
	- Certificate may be revoked or suspended:
		- Revoked
			- No longer valid and cannot be un-revoked or reinstated
		- Suspended
			- Can be re-enabled
	- Can be revoked or suspended by the owner or by the CA for many reasons
		- Private key could have been compromised
	- Must be a mechanism to inform users whether a certificate is valid, revoked or suspended.
	- CA must maintain a *Certificate Revocation List* (CRL) 
		- Has all revoked and suspended certificates
		- Has the following attributes
			- **Publish Period**
				- Date and time it was published
			- **Distribution Period**
				- locations where it is published
			- **Validity Period**
				- Period which it is considered authoritative
			- **Signature**
				- signed by the CA to verify authenticity
	- Other means of providing up to date info is to check the status of the certificate on an *Online Certificate Status Protocol* (OSCP)
		- Communicates requested certificates status.
		- Most can query the certificate database directly and obtain real time status of a certificate
- ==Key Management==
	- Refers to operational considerations for the various stages in a key's life cycle
		- Life cycle might have the following stages
			- **Key Generation**
				- Creates an asymmetric key pair or symmetric secret key
			- **Storage**
				- Prevents unauthorized access to a private or secret key
			- **Revocation**
				- Prevents the use of the key if it is compromised
			- **Expiration and Renewal**
				- Gives the certificate a "shelf-life"
	- Decentralized key management model means that keys are generated and managed directly on the computer or user account that will use the certificate
		- Does not require special set up
		- Easy to deploy
	- Some prefer to centralize key generation and storage using a *key management system*
	- When an app needs to perform a cryptographic operation it uses the *Key Management Interoperability Protocol*